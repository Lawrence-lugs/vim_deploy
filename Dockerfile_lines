# ==============================================================================
# [vim_deploy] INJECTION START
# ==============================================================================
# 1. Install prerequisites
RUN apt-get update && apt-get install -y git curl wget

# 2. Clone and Run the Installer
# NOTE: We clone to a permanent path (/root/.vim_deploy) and DO NOT delete it.
# The install.sh creates symlinks to this folder. If we deleted it, the config would break.
RUN git clone https://github.com/Lawrence-lugs/vim_deploy /root/.vim_deploy && \
    cd /root/.vim_deploy && \
    bash install.sh

# 3. Update PATH and ALIASES for the image
ENV PATH="/root/miniforge3/bin:$PATH"

# (Optional) Ensure the alias works for the default user in interactive mode
RUN echo "alias vim=nvim" >> /root/.bash_aliases
# ==============================================================================
# [vim_deploy] INJECTION END
# ==============================================================================
